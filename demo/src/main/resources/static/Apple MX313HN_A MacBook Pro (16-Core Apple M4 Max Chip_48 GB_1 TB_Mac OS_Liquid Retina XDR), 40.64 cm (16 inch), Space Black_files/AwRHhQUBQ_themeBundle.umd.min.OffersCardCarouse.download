(("undefined"!==typeof self?self:this)["webpackJsonpthemeBundle"]=("undefined"!==typeof self?self:this)["webpackJsonpthemeBundle"]||[]).push([[49],{"0034":function(t,e,a){"use strict";a("7c52")},"011f":function(t,e,a){},2536:function(t,e,a){"use strict";a("6225")},"46ae":function(t,e,a){},"5ba1":function(t,e,a){},6225:function(t,e,a){},"7c52":function(t,e,a){},8001:function(t,e,a){},"90f9":function(t,e,a){"use strict";a("011f")},b775:function(t,e,a){"use strict";a("5ba1")},b9a9:function(t,e,a){"use strict";a("8001")},cb02:function(t,e,a){"use strict";a("46ae")},e77a:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loading?a("div",{staticClass:"offer-container offer-loading"},[t._m(0),a("div",{staticClass:"offer-card-container"},t._l(t.offers_pdp.offers_count,(function(t){return a("div",{key:t,staticClass:"offer-card-loading animate"})})),0)]):t.totalOffers?a("div",{staticClass:"offer-container"},[a("div",{staticClass:"offer-header"},[a("div",{staticClass:"offer-header-title"},[t._v(" "+t._s(t.offers_pdp.offers_available)+" ")]),a("div",{staticClass:"dots"}),a("div",{staticClass:"offer-header-count"},[t._v(" "+t._s(t.totalOffers)+" ")])]),a("div",{staticClass:"offer-card-container"},[t._l(t.cardData,(function(e){return t.cardData&&t.cardData.length>0?a("div",{key:e&&e.key,ref:e&&e.key,refInFor:!0,staticClass:"offer-card",attrs:{tabindex:"0","aria-label":"Open "+(e&&e.title||"Offers")},on:{click:function(a){return t.onCardClick(e&&e.key)},keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.onCardClick(e&&e.key)}}},[e?a("div",{staticClass:"offer-card-header"},[e.key==t.offers_pdp.bank_offers_key?a("div",[a("BankIcon")],1):a("div",[a("EmiOffersIcon")],1),a("div",{staticClass:"offer-title"},[t._v(" "+t._s(e.title)+" ")])]):t._e(),e?a("div",{staticClass:"offer-content"},[t._v(" "+t._s(e.content)+" "),t._l(e.contentArr,(function(i){return e.contentArr&&e.contentArr.length>0?a("div",{key:i},[t._v(" "+t._s(i)+" ")]):t._e()})),e.tnc&&e.content?a("a",{staticClass:"offer-tc",attrs:{href:e.tnc,target:t.isMobile()?"_self":"_blank","aria-label":"Go to terms and conditions of "+e.content},on:{click:t.onClickTnC}},[t._v(" "+t._s(t.offers_pdp.tc)+" ")]):t._e()],2):t._e(),e?a("div",{staticClass:"offer-card-footer"},[a("div",{staticClass:"offer-footer-text"},[t._v(" "+t._s(e.footer)+" ")]),a("RightArrowWithCircle")],1):t._e()]):t._e()})),t.productOffers&&t.productOffers.length>0?a("div",{ref:t.offers_pdp.promotions_key,staticClass:"offer-card",attrs:{tabindex:"0","aria-label":"Open Promotions"},on:{click:function(e){return t.onCardClick(t.offers_pdp.promotions_key)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onCardClick(t.offers_pdp.promotions_key)}}},[a("div",{staticClass:"offer-card-header"},[a("div",[a("PromotionsIcon")],1),a("div",{staticClass:"offer-title"},[t._v(" "+t._s(t.offers_pdp.promotions_label)+" ")])]),t.productOffers[0].offer_text?a("div",{staticClass:"offer-content"},[t._v(" "+t._s(t.productOffers[0].offer_text)+" "),t.productOffers[0].description?a("span",{staticClass:"offer-tc",domProps:{innerHTML:t._s(t.productOffers[0].description)},on:{click:t.onClickTnC}}):t._e()]):t._e(),a("div",{staticClass:"offer-card-footer"},[a("div",{staticClass:"offer-footer-text"},[t._v(" "+t._s(t.productOffersFooter)+" ")]),a("RightArrowWithCircle")],1)]):t._e()],2),a("EmiModal",{attrs:{emiData:t.emiModalData,modalOpen:t.isEmiModalOpen,productData:t.productData},on:{closeModal:t.closeModal}}),a("BankModal",{attrs:{bankData:t.bankModalData,modalOpen:t.isBankModalOpen,productData:t.productData},on:{closeModal:t.closeModal}}),a("PromotionsModal",{attrs:{promotionsData:t.productOffers,modalOpen:t.isOffersModalOpen},on:{closeModal:t.closeModal}}),a("FullSwipeModal",{attrs:{promotionsData:t.fullSwipeModalData,modalOpen:t.isFullSwipeModalOpen},on:{closeModal:t.closeModal}})],1):t._e()},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"offer-header"},[a("div",{staticClass:"offer-loading-title animate"})])}],l=a("c7eb"),n=a("1da1"),s=(a("ac1f"),a("5319"),a("5b81"),a("acd8"),a("4795"),a("277d"),a("b0c0"),a("d3b7"),a("e6cf"),a("a79d"),a("99af"),a("b64b"),a("4de4"),a("4160"),a("159b"),a("4d90"),a("7db0"),a("0d03"),a("4463")),d=a("3b0e"),r=a("0b0a"),c=a("fb15"),u=a("6767"),f=a("ad561"),_=a("1be1"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal",mode:"out-in"}},[a("Modal",{staticClass:"emi-modal",attrs:{title:"",isOpen:t.modalOpen},on:{closedialog:t.onCloseModal}},[a("div",{staticClass:"emi-modal-container"},[a("div",{staticClass:"emi-modal-header"},[a("div",{staticClass:"emi-modal-title"},[t._v(" "+t._s(t.emi_text.title)+" ")]),a("div",{staticClass:"emi-modal-cross",attrs:{tabindex:"0","aria-label":"Close Modal"},on:{click:t.onCloseModal,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onCloseModal.apply(null,arguments)}}},[a("CrossIcon",{attrs:{fillColor:"#000000",fillOpacity:"0.65"}})],1)]),t.emiData&&t.emiData.length>0&&null!=t.selectedEmiDataIndex?a("div",{staticClass:"emi-type-container"},t._l(t.emiData,(function(e,i){return e?a("div",{key:i,staticClass:"emi-type",attrs:{tabindex:"0","aria-label":"Select "+(e.label||"tab")},on:{click:function(e){return t.setSelectedEmiData(i)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setSelectedEmiData(i)}}},[a("div",{staticClass:"emi-type-text"},[t._v(" "+t._s(e.label)+" ")]),t.selectedEmiDataIndex==i?a("div",{staticClass:"selected-emi"}):t._e()]):t._e()})),0):t._e(),t.selectedEmiData&&Object.keys(t.selectedEmiData).length>0?a("div",{staticClass:"emi-type-detail-container"},t._l(Object.keys(t.selectedEmiData),(function(e){return a("div",{key:e+t.selectedEmiDataIndex,staticClass:"emi-type-detail"},[a("EmiTable",{attrs:{bankLabel:e,emiTableData:t.selectedEmiData[e],is_no_low_cost_emi:!(t.selectedEmiData[e]&&t.selectedEmiData[e][0]&&t.selectedEmiData[e][0].emi_type==t.offers_pdp.standard_emi_key),disclaimerBank:t.disclaimerBank,productData:t.productData},on:{setDisclaimerBank:t.setDisclaimerBank}})],1)})),0):t._e()]),t.footerText?a("div",{staticClass:"emi-modal-footer"},[a("div",{staticClass:"emi-modal-footer-text",domProps:{innerHTML:t._s(t.footerText)}})]):t._e()])],1)},p=[],v=(a("c740"),a("2463")),h=a("41ce"),k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.emiTableData&&t.emiTableData.length>0?a("div",{staticClass:"emi-table-container"},[a("div",{staticClass:"emi-table-header",attrs:{tabindex:"0","aria-label":(t.isExpand?"Close":"Open")+" Emi table"},on:{click:t.ToggleExpand,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.ToggleExpand.apply(null,arguments)}}},[a("div",{staticClass:"emi-logo-title"},[a("div",{staticClass:"emi-logo"},[t.logo?a("img",{staticClass:"preview-image",attrs:{src:t.logo,alt:"bank logo"}}):a("DefaultBank")],1),t.title?a("div",{staticClass:"emi-title"},[t._v(" "+t._s(t.title)+" ")]):t._e()]),a("div",{class:["arrow",{rot:t.isExpand}]},[a("ArrowDropDown",{attrs:{fillColor:"#000093"}})],1)]),a("transition",{attrs:{mode:"out-in",name:"faq-fade"},on:{"before-enter":t.beforeEnterFaq,enter:t.enterFaq}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isExpand,expression:"isExpand"}],staticClass:"emi-table-content"},[t._l(t.emiTableData,(function(e,i){return t.isCashback(e)?a("div",{key:i,staticClass:"emi-cashback"},[a("span",[t._v(t._s(e.metadata.product_details[0].additional_cashback))]),a("span",[t._v(t._s(e.tenure?" for "+e.tenure+" months EMI ":" "))]),a("a",{staticClass:"emi-cashback-details",attrs:{href:t.cashBackDetailUrl,target:t.isMobile()?"_self":"_blank","aria-label":"Go to terms and conditions"},on:{click:function(a){return t.onTncClick(e)}}},[t._v(" "+t._s(t.emi_text.see_details)+" ")])]):t._e()})),t._l(t.emi_text.no_low_cost_emi_tnc,(function(e,i){return t.is_no_low_cost_emi?a("div",{key:"emi-cashback-"+i,staticClass:"emi-cashback"},[a("span",[t._v(t._s(e))]),a("a",{staticClass:"emi-cashback-details",attrs:{href:t.cashBackDetailUrl,target:t.isMobile()?"_self":"_blank","aria-label":"Go to terms and conditions"},on:{click:function(a){return t.onTncClick(e)}}},[t._v(" "+t._s(t.emi_text.see_details)+" ")])]):t._e()})),a("div",{staticClass:"emi-table-detail"},[a("div",{staticClass:"emi-table"},[a("div",{staticClass:"emi-table-top"},t._l(t.tableHeader,(function(e,i){return e?a("div",{key:i,staticClass:"emi-table-col"},[t._v(" "+t._s(e)+" ")]):t._e()})),0),t._l(t.emiTableData,(function(e,i){return e?a("div",{key:i,staticClass:"emi-table-bottom"},[a("div",{staticClass:"emi-table-col"},[t._v(" "+t._s(e.tenure?e.tenure+" Months":"-")+" ")]),t.is_no_low_cost_emi?t._e():a("div",{staticClass:"emi-table-col"},[t._v(" "+t._s((e.interest_percentage||"0")+"%")+" ")]),t.is_no_low_cost_emi?t._e():a("div",{staticClass:"emi-table-col"},[t._v(" "+t._s(t.emiPriceFormatter(e.emi_amount))+" ")]),t.is_no_low_cost_emi?t._e():a("div",{staticClass:"emi-table-col"},[t._v(" "+t._s(t.emiPriceFormatter(e.total_amount))+" ")]),t.is_no_low_cost_emi?a("div",{staticClass:"emi-table-col"},[t._v(" "+t._s(t.getProductDiscount(e))+" ")]):t._e(),t.is_no_low_cost_emi?a("div",{staticClass:"emi-table-col"},[t._v(" "+t._s(t.getSubventionCashbackDiscount(e))+" ")]):t._e()]):t._e()}))],2)])],2)])],1):t._e()},b=[],D=(a("caad"),a("2532"),a("161e")),C=a("0866"),y=a("0014"),O=a("9a5d"),E={name:"EmiTable",components:{ArrowDropDown:D["default"],DefaultBank:C["default"]},props:{emiTableData:{type:Array,default:[]},is_no_low_cost_emi:{type:Boolean,default:!1},bankLabel:{type:String},disclaimerBank:{type:Object,default:{key:null,label:null}},productData:{type:Object,default:{}}},data:function(){return{isExpand:!1,title:null,logo:null,cashBackDetailUrl:null,emi_text:u["EMI_TEXT"]}},mounted:function(){this.setEmiTableData()},watch:{emiTableData:function(){this.setEmiTableData()},disclaimerBank:function(){var t,e,a,i;this.isExpand=(null===(t=this.emiTableData)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.bank_name)==(null===(a=this.disclaimerBank)||void 0===a?void 0:a.key)&&this.bankLabel==(null===(i=this.disclaimerBank)||void 0===i?void 0:i.label)}},methods:{priceFormatter:_["fb"],emiPriceFormatter:function(t){return t&&parseFloat(t)?this.priceFormatter(parseFloat(t)):"-"},getProductDiscount:function(t){var e,a,i,o=null===t||void 0===t||null===(e=t.metadata)||void 0===e||null===(a=e.product_details)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.product_discount;return this.emiPriceFormatter(o)},getSubventionCashbackDiscount:function(t){var e,a,i,o=null===t||void 0===t||null===(e=t.metadata)||void 0===e||null===(a=e.product_details)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.subvention_cashback_discount;return this.emiPriceFormatter(o)},getEffectiveCost:function(t){var e,a,i,o,l,n,s=(null===t||void 0===t||null===(e=t.metadata)||void 0===e||null===(a=e.product_details)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.product_discount)||0,d=(null===t||void 0===t||null===(o=t.metadata)||void 0===o||null===(l=o.product_details)||void 0===l||null===(n=l[0])||void 0===n?void 0:n.subvention_cashback_discount)||0,r=(parseFloat(s/100)||0)+(parseFloat(d/100)||0),c=parseFloat(null===t||void 0===t?void 0:t.total_amount)||0;return this.emiPriceFormatter(c-r)},isMobile:_["T"],onTncClick:function(t){var e,a,i,o,l,n,s;Object(O["a"])(y["a"].PDP_CASHBACK_PLAN_VIEWED,{},{offer_description:"".concat((null===t||void 0===t?void 0:t.emi_type)||"","_").concat((null===t||void 0===t?void 0:t.card_name)||"").replaceAll(" ","_").toLowerCase(),product_name:(null===(e=this.productData)||void 0===e?void 0:e.name)||"NA",product_category:(null===(a=this.productData)||void 0===a||null===(i=a.categories)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.name)||"NA",product_id:(null===(l=this.productData)||void 0===l?void 0:l.uid)||"NA",product_brand:(null===(n=this.productData)||void 0===n||null===(s=n.brand)||void 0===s?void 0:s.name)||"NA"})},setEmiTableData:function(){var t;if((null===(t=this.emiTableData)||void 0===t?void 0:t.length)>0){var e,a,i,o,l,n=(null===(e=this.emiTableData[0])||void 0===e?void 0:e.card_name)||"";this.title=n.includes("BANK OF BARODA")?n.replace("BANK OF BARODA","BOB"):n,this.logo=null===(a=this.emiTableData[0])||void 0===a?void 0:a.logo,this.isExpand=(null===(i=this.emiTableData[0])||void 0===i?void 0:i.bank_name)==(null===(o=this.disclaimerBank)||void 0===o?void 0:o.key)&&this.bankLabel==(null===(l=this.disclaimerBank)||void 0===l?void 0:l.label),this.cashBackDetailUrl=u["EMI_TEXT"].no_cost_detail_url}else this.title=null,this.logo=null,this.isExpand=null,this.cashBackDetailUrl=null},ToggleExpand:function(){var t,e,a=null===(t=this.emiTableData)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.bank_name;this.$emit("setDisclaimerBank",{key:a,label:this.bankLabel})},isCashback:function(t){var e,a,i;return(null===t||void 0===t||null===(e=t.metadata)||void 0===e||null===(a=e.product_details)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.additional_cashback)||""},beforeEnterFaq:function(t){t&&(t.style.display="block",t.style.maxHeight=null,t.myHeight=t.offsetHeight,t.style.maxHeight=0,t.style.display=null)},enterFaq:function(t){t&&(t.style.maxHeight=t.myHeight+"px")}},computed:{tableHeader:function(){return this.is_no_low_cost_emi?u["EMI_TEXT"].table_header_nlci:u["EMI_TEXT"].table_header}}},g=E,F=(a("cb02"),a("2877")),P=Object(F["a"])(g,k,b,!1,null,"6c44147e",null),M=P.exports,S={name:"EmiModal",components:{Modal:v["default"],CrossIcon:h["default"],EmiTable:M},props:{emiData:{type:Array,default:[]},modalOpen:{type:Boolean,default:!1},productData:{type:Object,default:{}}},data:function(){return{emi_text:u["EMI_TEXT"],disclaimerBank:{key:null,label:null},footerText:"",selectedEmiDataIndex:null,selectedEmiData:{},offers_pdp:u["OFFERS_PDP"]}},mounted:function(){this.setEmiData()},watch:{emiData:function(){this.setEmiData()}},methods:{isMobile:_["T"],onCloseModal:function(){this.$emit("closeModal")},setDisclaimerBank:function(t){var e,a;(null===t||void 0===t?void 0:t.key)==(null===(e=this.disclaimerBank)||void 0===e?void 0:e.key)&&(null===t||void 0===t?void 0:t.label)==(null===(a=this.disclaimerBank)||void 0===a?void 0:a.label)?(this.disclaimerBank={key:null,label:null},this.footerText=""):(this.disclaimerBank={key:null===t||void 0===t?void 0:t.key,label:null===t||void 0===t?void 0:t.label},(null===t||void 0===t?void 0:t.key)==u["EMI_TEXT"].hdfc_bank?this.footerText=this.hdfcDisclaimerText:this.footerText=null!==t&&void 0!==t&&t.key?u["DISCLAIMER_TEXTS"][t.key](this.isMobile()):"")},setSelectedEmiData:function(t){var e,a;t!=this.selectedEmiDataIndex&&(this.selectedEmiDataIndex=t,this.selectedEmiData=null===(e=this.emiData)||void 0===e||null===(a=e[t])||void 0===a?void 0:a.data,this.disclaimerBank={key:null,label:null},this.footerText="")},clearSelectedEmiData:function(){this.selectedEmiDataIndex=null,this.selectedEmiData={},this.disclaimerBank={key:null,label:null},this.footerText=""},setEmiData:function(){var t;if((null===(t=this.emiData)||void 0===t?void 0:t.length)>0){var e=this.emiData.findIndex((function(t){return null!=t}));-1==e?this.clearSelectedEmiData():this.setSelectedEmiData(e)}else this.clearSelectedEmiData()}},computed:{hdfcDisclaimerText:function(){return"*Please refer to the Bank's Website for more details on charges/GST applicability. <a href='/c/emi-and-additional-cashback-terms-and-conditions' target=\"".concat(this.isMobile()?"_self":"_blank","\" style='color: #3535f3;font-weight:600'>Read - T&C</a>")}}},x=S,T=(a("b9a9"),Object(F["a"])(x,m,p,!1,null,"f85b3ab4",null)),w=T.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal",mode:"out-in"}},[a("Modal",{staticClass:"bank-modal",attrs:{title:"",isOpen:t.modalOpen},on:{closedialog:t.onCloseModal}},[a("div",{staticClass:"bank-modal-container"},[a("div",{staticClass:"bank-modal-header"},[a("div",{staticClass:"bank-modal-title"},[t._v(" "+t._s(t.bank_text.title)+" ")]),a("div",{staticClass:"bank-modal-cross",attrs:{tabindex:"0","aria-label":"Close Modal"},on:{click:t.onCloseModal,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onCloseModal.apply(null,arguments)}}},[a("CrossIcon",{attrs:{fillColor:"#000000",fillOpacity:"0.65"}})],1)]),t.bankData&&t.bankData.length>0?a("div",{staticClass:"bank-offers-container"},t._l(t.bankData,(function(e,i){return e?a("div",{key:i,staticClass:"bank-offer"},[a("div",{staticClass:"bank-logo"},[e.logo?a("img",{staticClass:"preview-image",attrs:{src:e.logo,alt:"bank logo"}}):a("DefaultBank")],1),e.offer_desc?a("div",{staticClass:"offer-text"},[t._v(" "+t._s(e.offer_desc)+" "),t.validUrl(e.tnc_url)?a("a",{staticClass:"bank-offer-tc",attrs:{href:e.tnc_url,target:t.isMobile()?"_self":"_blank","aria-label":"Go to terms and conditions of "+e.offer_desc},on:{click:function(a){return t.onTncClick(e)}}},[t._v(" "+t._s(t.bank_text.tc)+" ")]):t._e()]):t._e()]):t._e()})),0):t._e()])])],1)},A=[],B={name:"BankModal",components:{Modal:v["default"],CrossIcon:h["default"],DefaultBank:C["default"]},props:{bankData:{type:Array,default:[]},modalOpen:{type:Boolean,default:!1},productData:{type:Object,default:{}}},data:function(){return{bank_text:u["BANK_TEXT"]}},methods:{isMobile:_["T"],onCloseModal:function(){this.$emit("closeModal")},validUrl:function(t){if(t){var e=t.toLowerCase();if("null"==e||"false"==e||"undefined"==e)return""}return t},onTncClick:function(t){var e,a,i,o,l,n,s;Object(O["a"])(y["a"].PDP_OFFER_TNC,{},{offer_description:(null===t||void 0===t?void 0:t.offer_desc)||"NA",product_name:(null===(e=this.productData)||void 0===e?void 0:e.name)||"NA",product_category:(null===(a=this.productData)||void 0===a||null===(i=a.categories)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.name)||"NA",product_id:(null===(l=this.productData)||void 0===l?void 0:l.uid)||"NA",product_brand:(null===(n=this.productData)||void 0===n||null===(s=n.brand)||void 0===s?void 0:s.name)||"NA"})}}},I=B,j=(a("0034"),Object(F["a"])(I,R,A,!1,null,"7a3c573e",null)),N=j.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal",mode:"out-in"}},[a("Modal",{staticClass:"promotions-modal",attrs:{title:"",isOpen:t.modalOpen},on:{closedialog:t.onCloseModal}},[a("div",{staticClass:"promotions-modal-container"},[a("div",{staticClass:"promotions-modal-header"},[a("div",{staticClass:"promotions-modal-title"},[t._v(" "+t._s(t.offers_pdp.promotions_label)+" ")]),a("div",{staticClass:"promotions-modal-cross",attrs:{tabindex:"0","aria-label":"Close Modal"},on:{click:t.onCloseModal,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onCloseModal.apply(null,arguments)}}},[a("CrossIcon",{attrs:{fillColor:"#000000",fillOpacity:"0.65"}})],1)]),t.promotionsData&&t.promotionsData.length>0?a("div",{staticClass:"promotions-container"},t._l(t.promotionsData,(function(e,i){return e?a("div",{key:i,staticClass:"promotions"},[a("div",{staticClass:"promotions-logo"},[a("PromotionsIcon",{attrs:{iconWidth:"20px",iconHeight:"20px"}})],1),e.offer_text?a("div",{staticClass:"promotions-text"},[t._v(" "+t._s(e.offer_text)+" "),e.description?a("span",{staticClass:"promotions-tc",domProps:{innerHTML:t._s(e.description)}}):t._e()]):t._e()]):t._e()})),0):t._e()])])],1)},H=[],$={name:"PromotionsModal",components:{Modal:v["default"],CrossIcon:h["default"],PromotionsIcon:r["default"]},props:{promotionsData:{type:Array,default:[]},modalOpen:{type:Boolean,default:!1}},data:function(){return{offers_pdp:u["OFFERS_PDP"]}},methods:{onCloseModal:function(){this.$emit("closeModal")}}},U=$,X=(a("90f9"),Object(F["a"])(U,L,H,!1,null,"23869f8c",null)),q=X.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal",mode:"out-in"}},[a("Modal",{staticClass:"promotions-modal",attrs:{title:"",isOpen:t.modalOpen},on:{closedialog:t.onCloseModal}},[a("div",{staticClass:"promotions-modal-container"},[a("div",{staticClass:"promotions-modal-header"},[a("div",{staticClass:"promotions-modal-title"},[t._v(" "+t._s(t.offers_pdp.full_swipe_label)+" ")]),a("div",{staticClass:"promotions-modal-cross",attrs:{tabindex:"0","aria-label":"Close Modal"},on:{click:t.onCloseModal,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onCloseModal.apply(null,arguments)}}},[a("CrossIcon",{attrs:{fillColor:"#000000",fillOpacity:"0.65"}})],1)]),t.promotionsData&&t.promotionsData.length>0?a("div",{staticClass:"promotions-container"},t._l(t.promotionsData,(function(e){return e&&e.offer_text?a("div",{key:e.offer_text,staticClass:"promotions"},[a("div",{staticClass:"promotions-logo"},[a("EmiOffersIcon",{attrs:{iconWidth:"20px",iconHeight:"20px"}})],1),e.offer_text?a("div",{staticClass:"promotions-text"},[t._v(" "+t._s(e.offer_text)+" ")]):t._e()]):t._e()})),0):t._e()])])],1)},K=[],G={name:"PromotionsModal",components:{Modal:v["default"],CrossIcon:h["default"],EmiOffersIcon:d["default"]},props:{promotionsData:{type:Array,default:[]},modalOpen:{type:Boolean,default:!1}},data:function(){return{offers_pdp:u["OFFERS_PDP"]}},methods:{onCloseModal:function(){this.$emit("closeModal")}}},V=G,J=(a("2536"),Object(F["a"])(V,W,K,!1,null,"cbee4952",null)),Y=J.exports,z={name:"OffersCardCarousel",components:{BankIcon:s["default"],EmiOffersIcon:d["default"],PromotionsIcon:r["default"],RightArrowWithCircle:c["default"],EmiModal:w,BankModal:N,PromotionsModal:q,FullSwipeModal:Y},props:{productId:{type:String,required:!0},productSlug:{type:String,required:!0},productData:{type:Object,default:{}},pincodeData:{type:String,default:"NA"}},data:function(){return{cardData:null,productOffers:null,productOffersFooter:"",emiModalData:null,bankModalData:null,fullSwipeModalData:null,isEmiModalOpen:!1,isBankModalOpen:!1,isOffersModalOpen:!1,isFullSwipeModalOpen:!1,loading:!0,offers_pdp:u["OFFERS_PDP"]}},mounted:function(){this.fetchOffersData()},watch:{productId:function(){this.fetchOffersData()}},methods:{priceFormatter:_["fb"],isMobile:_["T"],getBankCardName:function(t){return t?t.replaceAll("BANK","Bank").replaceAll("CREDIT","Credit").replaceAll("DEBIT","Debit").replaceAll("CARD","Card"):""},getMinAmount:function(t,e){var a=parseFloat(t),i=parseFloat(e);if(a||i)return a?i?Math.min(a,i):a:i},getMaxAmount:function(t,e){var a=parseFloat(t),i=parseFloat(e);if(a||i)return a?i?Math.max(a,i):a:i},closeModal:function(t){if(!t){var e,a="";this.isEmiModalOpen?a=u["OFFERS_PDP"].emi_key:this.isBankModalOpen?a=u["OFFERS_PDP"].bank_offers_key:this.isOffersModalOpen?a=u["OFFERS_PDP"].promotions_key:this.isFullSwipeModalOpen&&(a=u["OFFERS_PDP"].full_swipe_key),null!==(e=this.$refs)&&void 0!==e&&e[a]&&!this.isMobile()&&(a=this.$refs[a],setTimeout((function(){var t,e;Array.isArray(a)&&a.length>0?null===(t=a[0])||void 0===t||t.focus():null===(e=a)||void 0===e||e.focus()}),400))}this.isEmiModalOpen=!1,this.isBankModalOpen=!1,this.isOffersModalOpen=!1,this.isFullSwipeModalOpen=!1},onCardClick:function(t){var e,a,i;switch(this.closeModal(!0),t){case u["OFFERS_PDP"].emi_key:this.isEmiModalOpen=!0;break;case u["OFFERS_PDP"].bank_offers_key:this.isBankModalOpen=!0;break;case u["OFFERS_PDP"].promotions_key:this.isOffersModalOpen=!0;break;case u["OFFERS_PDP"].full_swipe_key:this.isFullSwipeModalOpen=!0;break}Object(O["a"])(y["a"].PDP_AVAILABLE_OFFERS,{item_id:(null===(e=this.productData)||void 0===e?void 0:e.item_code)||"NA",item_name:(null===(a=this.productData)||void 0===a?void 0:a.name)||"NA",pincode:this.pincodeData,stock_availability:null!==(i=this.productData)&&void 0!==i&&i.out_of_stock?"Out of Stock":"In Stock"})},fetchOffersData:function(){var t=this;return Object(n["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loading=!0,t.$apiSDK.client.get("".concat(Object(f["RAVEN_PROXY_URL"])(),"/promotions?article-id=").concat(t.productId,"&slug=").concat(t.productSlug)).then((function(e){var a,i,o,l=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.emi_data,n=null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.bank_offers,s=null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.product_offers,d=t.getTargetMessage();if(d){var r,c={offer_text:d};(null===(r=s)||void 0===r?void 0:r.length)>0?s.push(c):s=[c]}t.getOffersData({emiData:l,bankOffersData:n,ProductOffersData:s})}))["catch"]((function(){}))["finally"]((function(){t.loading=!1}));case 2:case"end":return e.stop()}}),e)})))()},getOffersData:function(t){var e,a,i,o,l=this.getEmiData(t),n=l.noCostEmiData,s=l.lowCostEmiData,d=l.stdCostEmiData,r=l.fullSwipeData,c=l.emiCount,f=l.minStdEmi,_=l.maxAdditionalCashback,m=l.maxSubventionCashback,p=l.maxFullSwipeAdditionalCashback,v=l.maxFullSwipeAdditionalCashbackBank,h=l.maxFullSwipProductDiscount,k=this.getEmiModalData(n,s,d),b=k.updatedEmiModalData,D=[],C=!1,y=!1;if(d&&Object.keys(d).length>0&&f){y=!(n&&Object.keys(n).length>0);var O=[];O.push("".concat(u["OFFERS_PDP"].emi_start_from," ").concat(this.priceFormatter(f),"/").concat(u["OFFERS_PDP"].month)),m&&O.push("".concat(u["OFFERS_PDP"].cashback_discount_of," ").concat(this.priceFormatter(m))),_&&O.push("".concat(u["OFFERS_PDP"].additional_cashback_of," ").concat(this.priceFormatter(_))),D.push({key:u["OFFERS_PDP"].emi_key,title:n&&Object.keys(n).length>0?u["OFFERS_PDP"].emi_label2:u["OFFERS_PDP"].emi_label,content:"",contentArr:O,footer:1==c?u["OFFERS_PDP"].view_details:"+".concat(c-1," ").concat(u["OFFERS_PDP"].more_offers)})}if((p||h)&&(null===r||void 0===r?void 0:r.length)>0){C=!0;var E=[];h&&E.push("".concat(u["OFFERS_PDP"].cashback_discount_of," ").concat(this.priceFormatter(h))),p&&E.push("".concat(u["OFFERS_PDP"].additional_cashback_of," ").concat(this.priceFormatter(p)," on ").concat(this.getBankCardName(v))),E.push(u["OFFERS_PDP"].only_item_text),D.push({key:u["OFFERS_PDP"].full_swipe_key,title:u["OFFERS_PDP"].full_swipe_label,content:"",contentArr:E,footer:r.length==E.length-1?u["OFFERS_PDP"].view_details:"+".concat(r.length-E.length+1," ").concat(u["OFFERS_PDP"].more_offers)})}((null===t||void 0===t||null===(e=t.bankOffersData)||void 0===e?void 0:e.length)>0&&D.push({key:u["OFFERS_PDP"].bank_offers_key,title:u["OFFERS_PDP"].bank_offers_label,content:t.bankOffersData[0].offer_desc||"",tnc:this.validUrl(t.bankOffersData[0].tnc_url),footer:1==t.bankOffersData.length?u["OFFERS_PDP"].view_details:"+".concat(t.bankOffersData.length-1," ").concat(u["OFFERS_PDP"].more_offers)}),(null===t||void 0===t||null===(a=t.ProductOffersData)||void 0===a?void 0:a.length)>0)&&(this.productOffers=t.ProductOffersData.filter((function(t){var e,a,i,o,l=null!==(e=null===t||void 0===t||null===(a=t.discount_rules)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.discount_type)&&void 0!==e?e:"";return l!=u["OFFERS_PDP"].rule_type_percentage&&l!=u["OFFERS_PDP"].rule_type_free_gift_items||!((null===t||void 0===t||null===(o=t.free_gift_items)||void 0===o?void 0:o.length)>0)})),(null===(o=this.productOffers)||void 0===o?void 0:o.length)>0&&(this.productOffersFooter=1==this.productOffers.length?u["OFFERS_PDP"].view_details:"+".concat(this.productOffers.length-1," ").concat(u["OFFERS_PDP"].more_offers)));if(C&&y&&D.length>=2){var g=D[0];D[0]=D[1],D[1]=g}this.cardData=D,this.emiModalData=(null===b||void 0===b?void 0:b.length)>0?b:null,this.bankModalData=(null===t||void 0===t||null===(i=t.bankOffersData)||void 0===i?void 0:i.length)>0?t.bankOffersData:null,this.fullSwipeModalData=(null===r||void 0===r?void 0:r.length)>0?r:null},getEmiData:function(t){var e=this,a={},i={},o={},l=[],n=0,s=void 0,d=void 0,r=void 0,c=void 0,f=void 0,_=void 0;if(null!==t&&void 0!==t&&t.emiData){var m=function(m){var p=t.emiData[m];null===p||void 0===p||p.forEach((function(t){if(t){if(t.emi_type==u["OFFERS_PDP"].low_cost_emi_key)i[m]?i[m].push(t):i[m]=[t];else if(t.emi_type==u["OFFERS_PDP"].no_cost_emi_key)a[m]?a[m].push(t):a[m]=[t];else if(t.emi_type==u["OFFERS_PDP"].standard_emi_key)o[m]?o[m].push(t):o[m]=[t],s=e.getMinAmount(s,t.emi_amount);else if(t.emi_type==u["OFFERS_PDP"].full_swipe_key){var p,v,h,k,b,D,C,y,O,E,g,F,P=e.getBankCardName(t.card_name);null!==t&&void 0!==t&&null!==(p=t.metadata)&&void 0!==p&&null!==(v=p.product_details)&&void 0!==v&&null!==(h=v[0])&&void 0!==h&&h.product_discount&&l.push({offer_text:"".concat(u["OFFERS_PDP"].cashback_discount_of," ").concat(e.priceFormatter(t.metadata.product_details[0].product_discount)," on ").concat(P)}),null!==t&&void 0!==t&&null!==(k=t.metadata)&&void 0!==k&&null!==(b=k.product_details)&&void 0!==b&&null!==(D=b[0])&&void 0!==D&&D.additional_cashback_amount&&l.push({offer_text:"".concat(u["OFFERS_PDP"].additional_cashback_of," ").concat(e.priceFormatter(t.metadata.product_details[0].additional_cashback_amount)," on ").concat(P)}),_=e.getMaxAmount(_,null===t||void 0===t||null===(C=t.metadata)||void 0===C||null===(y=C.product_details)||void 0===y||null===(O=y[0])||void 0===O?void 0:O.product_discount);var M=e.getMaxAmount(c,null===t||void 0===t||null===(E=t.metadata)||void 0===E||null===(g=E.product_details)||void 0===g||null===(F=g[0])||void 0===F?void 0:F.additional_cashback_amount);M!=c&&(c=M,f=t.card_name||void 0)}var S,x,T,w,R,A;if(t.emi_type==u["OFFERS_PDP"].standard_emi_key||t.emi_type==u["OFFERS_PDP"].no_cost_emi_key||t.emi_type==u["OFFERS_PDP"].low_cost_emi_key)n++,d=e.getMaxAmount(d,null===t||void 0===t||null===(S=t.metadata)||void 0===S||null===(x=S.product_details)||void 0===x||null===(T=x[0])||void 0===T?void 0:T.additional_cashback_amount),r=e.getMaxAmount(r,null===t||void 0===t||null===(w=t.metadata)||void 0===w||null===(R=w.product_details)||void 0===R||null===(A=R[0])||void 0===A?void 0:A.subvention_cashback_discount)}}))};for(var p in t.emiData)m(p)}return{noCostEmiData:a,lowCostEmiData:i,stdCostEmiData:o,fullSwipeData:l,emiCount:n,minStdEmi:s,maxAdditionalCashback:d,maxSubventionCashback:r,maxFullSwipeAdditionalCashback:c,maxFullSwipeAdditionalCashbackBank:f,maxFullSwipProductDiscount:_}},getEmiModalData:function(t,e,a){var i=[null,null,null];return t&&Object.keys(t).length>0&&(i[0]={key:u["OFFERS_PDP"].no_cost_emi_key,label:u["OFFERS_PDP"].no_cost_emi_label,data:t}),e&&Object.keys(e).length>0&&(i[1]={key:u["OFFERS_PDP"].low_cost_emi_key,label:u["OFFERS_PDP"].low_cost_emi_label,data:e}),a&&Object.keys(a).length>0&&(i[2]={key:u["OFFERS_PDP"].standard_emi_key,label:u["OFFERS_PDP"].standard_emi_label,data:a}),{updatedEmiModalData:i}},onClickTnC:function(t){null===t||void 0===t||t.stopPropagation()},validUrl:function(t){if(t){var e=t.toLowerCase();if("null"==e||"false"==e||"undefined"==e)return""}return t},formatDateTime:function(t){var e=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),o=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0"),n=String(t.getSeconds()).padStart(2,"0");return"".concat(e,"-").concat(a,"-").concat(i," ").concat(o,":").concat(l,":").concat(n)},getTargetMessage:function(){var t="";try{var e,a,i,o,l,n,s,d,r,c,u,f;if(null!==(e=this.productData)&&void 0!==e&&null!==(a=e._custom_meta)&&void 0!==a&&null!==(i=a.find((function(t){return"target_message_text"===(null===t||void 0===t?void 0:t.key)})))&&void 0!==i&&i.value&&null!==(o=this.productData)&&void 0!==o&&null!==(l=o._custom_meta)&&void 0!==l&&null!==(n=l.find((function(t){return"target_message_start_date"===(null===t||void 0===t?void 0:t.key)})))&&void 0!==n&&n.value&&null!==(s=this.productData)&&void 0!==s&&null!==(d=s._custom_meta)&&void 0!==d&&null!==(r=d.find((function(t){return"target_message_end_date"===(null===t||void 0===t?void 0:t.key)})))&&void 0!==r&&r.value)if(Date.parse(null===(c=this.productData._custom_meta.find((function(t){return"target_message_start_date"===(null===t||void 0===t?void 0:t.key)})))||void 0===c?void 0:c.value)<=Date.parse(this.formatDateTime(new Date))&&Date.parse(null===(u=this.productData._custom_meta.find((function(t){return"target_message_end_date"===(null===t||void 0===t?void 0:t.key)})))||void 0===u?void 0:u.value)>=Date.parse(this.formatDateTime(new Date)))t=null===(f=this.productData._custom_meta.find((function(t){return"target_message_text"===(null===t||void 0===t?void 0:t.key)})))||void 0===f?void 0:f.value}catch(_){}return t}},computed:{totalOffers:function(){var t,e,a=0;return null!==(t=this.cardData)&&void 0!==t&&t.length&&(a+=this.cardData.length),null!==(e=this.productOffers)&&void 0!==e&&e.length&&a++,a}}},Q=z,Z=(a("b775"),Object(F["a"])(Q,i,o,!1,null,"066b4686",null));e["default"]=Z.exports}}]);
//# sourceMappingURL=AwRHhQUBQ_themeBundle.umd.min.OffersCardCarousel.js.map