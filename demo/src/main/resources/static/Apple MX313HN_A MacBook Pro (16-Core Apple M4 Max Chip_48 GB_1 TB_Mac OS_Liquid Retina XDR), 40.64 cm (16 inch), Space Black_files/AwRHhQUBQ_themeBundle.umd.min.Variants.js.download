(("undefined"!==typeof self?self:this)["webpackJsonpthemeBundle"]=("undefined"!==typeof self?self:this)["webpackJsonpthemeBundle"]||[]).push([[67],{"45fc":function(t,a,e){"use strict";var r=e("23e7"),i=e("b727").some,n=e("a640"),s=n("some");r({target:"Array",proto:!0,forced:!s},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"4f0c":function(t,a,e){},c8c8:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.variantsArray&&t.variantsArray.length?e("div",{staticClass:"variants-container"},[e("h3",{staticClass:"variants-header"},[e("div",{staticClass:"variants-header--left"},[e("div",[t._v("Variants available")]),e("div",{staticClass:"dot"}),e("span",{staticClass:"variants-count"},[t._v(t._s(t.variantsArray.length))])])]),t._l(t.formattedVariantsArray,(function(a,r){return e("div",{key:r},[e("div",[e("h5",{staticClass:"variant-type"},[t._v(" "+t._s(a.variantLabel)+": "+t._s(a.variantValue)+" ")])]),e("div",{staticClass:"variant-wrapper"},t._l(a.variantItems,(function(r){return r.itemDisplay?e("div",{key:r.itemSlug,staticClass:"variant",class:r.variantSelected?"variant-selected":"",attrs:{"aria-label":r.itemSlug},on:{click:function(a){return t.redirectToPDP(r.itemSlug)}}},["Color"===a.variantLabel?[e("img",{staticClass:"variant-img",attrs:{src:r.itemDisplay||t.getDefaultImage}})]:[t._v(" "+t._s(r.itemDisplay)+" ")]],2):t._e()})),0)])}))],2):t._e()},i=[],n=e("3835"),s=e("c7eb"),u=e("1da1"),c=(e("a9e3"),e("99af"),e("7db0"),e("d3b7"),e("e260"),e("4ec9"),e("3ca3"),e("ddb0"),e("4160"),e("159b"),e("d81d"),e("a630"),e("45fc"),e("ad561")),l=e("84e8"),o={name:"Variants",props:{currentUid:{type:Number,default:""}},data:function(){return{variantsArray:[],formattedVariantsArray:[],selectedUid:this.currentUid||""}},mounted:function(){var t=this;return Object(u["a"])(Object(s["a"])().mark((function a(){return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.fetchVariants();case 2:case"end":return a.stop()}}),a)})))()},methods:{fetchVariants:function(){var t=this;return Object(u["a"])(Object(s["a"])().mark((function a(){return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$apiSDK.client.get("".concat(Object(c["RAVEN_PROXY_URL"])(),"/v1.0/products/").concat(t.selectedUid,"/variants")).then((function(a){t.variantsArray=(null===a||void 0===a?void 0:a.data)||[],t.formatData((null===a||void 0===a?void 0:a.data)||[])}));case 1:case"end":return a.stop()}}),a)})))()},formatData:function(t){var a=[],e=t.find((function(t){return t.is_selected})),r=(null===e||void 0===e?void 0:e.attributes.colour)||(null===e||void 0===e?void 0:e.attributes.primary_color)||"",i=(null===e||void 0===e?void 0:e.attributes["internal-storage"])||"",s=(null===e||void 0===e?void 0:e.attributes.ram)||"",u=new Map;t.forEach((function(t){var a=t.attributes.colour||t.attributes.primary_color;u.has(a)||u.set(a,[]),u.get(a).push(t)}));var c=Array.from(u.entries()).map((function(t){var a=Object(n["a"])(t,2),e=(a[0],a[1]),r=e[0];return{itemDisplay:r.image,itemSlug:r.slug,variantSelected:e.some((function(t){return t.is_selected}))}}));if(a.push({variantLabel:"Color",variantValue:r,variantItems:c}),t.some((function(t){return t.attributes.ram}))){var l=new Map;t.forEach((function(t){var a=t.attributes.ram;l.has(a)||l.set(a,{itemDisplay:a,itemSlug:null,variantSelected:!1}),(t.attributes.colour||t.attributes.primary_color)===r&&(l.get(a).itemSlug=t.slug),l.get(a).itemSlug||(l.get(a).itemSlug=t.slug),t.is_selected&&(l.get(a).variantSelected=!0)})),a.push({variantLabel:"RAM",variantValue:s||"",variantItems:Array.from(l.values())})}if(t.some((function(t){return t.attributes["internal-storage"]}))){var o=new Map;t.forEach((function(t){var a=t.attributes["internal-storage"];o.has(a)||o.set(a,{itemDisplay:a,itemSlug:null,variantSelected:!1}),(t.attributes.colour||t.attributes.primary_color)===r&&(o.get(a).itemSlug=t.slug),o.get(a).itemSlug||(o.get(a).itemSlug=t.slug),t.is_selected&&(o.get(a).variantSelected=!0)})),a.push({variantLabel:"Internal Storage",variantValue:i,variantItems:Array.from(o.values())})}this.formattedVariantsArray=a},redirectToPDP:function(t){this.$router.push("/product/".concat(t))}},computed:{getDefaultImage:function(){return l["m"]}}},v=o,d=(e("cc58"),e("2877")),f=Object(d["a"])(v,r,i,!1,null,"64ff4910",null);a["default"]=f.exports},cc58:function(t,a,e){"use strict";e("4f0c")}}]);
//# sourceMappingURL=AwRHhQUBQ_themeBundle.umd.min.Variants.js.map